<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Management System</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <header>
    <h1>Student Management System</h1>
    <button id="theme-toggle">ğŸŒ™</button>
  </header>

  <nav>
    <a href="/">Home</a>
    <a href="/add">Add Student</a>
    <a href="/view">View Students</a>
  </nav>

  <div class="container">
    <h2>Welcome, Tarun ğŸ‘‹</h2>
    <p>Manage students easily with this modern Flask web app.</p>

    <div class="cards">
      <div class="card">
        <h3>Total Students</h3>
        <p id="student-count">10</p>
      </div>
      <div class="card">
        <h3>Departments</h3>
        <p id="dept-count">3</p>
      </div>
      <div class="card">
        <h3>Average Age</h3>
        <p id="avg-age">21</p>
      </div>
    </div>
  </div>

  <footer>Made by Tarun</footer>

  <script>
    // Dark mode toggle
    const toggleBtn = document.getElementById('theme-toggle');
    toggleBtn.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      toggleBtn.textContent = document.body.classList.contains('dark-mode') ? 'â˜€ï¸' : 'ğŸŒ™';
    });

    // Simple number animation
    const animateValue = (id, start, end, duration) => {
      let range = end - start;
      let current = start;
      let increment = end > start ? 1 : -1;
      let stepTime = Math.abs(Math.floor(duration / range));
      let obj = document.getElementById(id);
      let timer = setInterval(() => {
        current += increment;
        obj.textContent = current;
        if (current == end) clearInterval(timer);
      }, stepTime);
    };

    animateValue("student-count", 0, 10, 1000);
    animateValue("dept-count", 0, 3, 1000);
    animateValue("avg-age", 0, 21, 1000);
  </script>
</body>
</html>
